---
  title: "Notes from my first Ubuntu Developer Summit"
  categories: 
    - "desktop"
    - "geo"
    - "midgard"
  layout: "post"

---
<p>Last week was the <a href="https://wiki.ubuntu.com/UDS-M">Ubuntu Developer Summit</a> targeted at planning how the next iteration of the operating system, <a href="http://www.markshuttleworth.com/archives/336"><em>Maverick Meerkat</em></a>, targeted at a October 10th 2010 release, would look like. The event was held in a spa resort off in the countryside near Brussels. A place where the developers were comfortably separated from the busy towns by forests and country roads.</p>
<p>I went to the UDS with two goals in my mind: to discuss <a href="http://bergie.iki.fi/blog/making_the_gnome_desktop_location-aware/">making the Ubuntu desktop location-aware</a>, and to figure out what sort of role <a href="http://www.midgard2.org/">Midgard</a>, our content repository could play in the Ubuntu space. Normally such things would be better approached by talking to upstream projects and distributions, but as Ubuntu is <a href="http://www.0d.be/2010/05/13/gnome-and-operating-systems/">taking an increasingly active role</a> in developing itself to be a <em>comprehensive and unique operating system</em>, it would be a better place to accomplish such wide-ranging changes.</p>
<p><strong>Location-awareness</strong> was a area that many were interested in. Ubuntu already had considered <a href="http://geoclue.freedesktop.org/"><strong>GeoClue</strong></a>, our location service, to be a component of the distribution in Lucid Lynx, but that <a href="https://blueprints.launchpad.net/ubuntu/+spec/desktop-lucid-gnome-geoclue">plan had been abandoned</a> due to the low-maintained status of the software. However, now that GeoClue has become the <a href="http://jaaksi.blogspot.com/2010/04/meego-is-now-opened.html">geolocation framework for MeeGo</a> things are about to change, and so there is <a href="https://blueprints.launchpad.net/ubuntu/+spec/desktop-maverick-geoclue/">a significant possibility</a> to get GeoClue into Ubuntu as well.</p>
<p>GeoClue by itself will obviously not do much, and so making applications use it is the important thing. Some applications already support location information and could be changed to include those features by default. This includes <a href="http://blog.pierlux.com/2009/06/15/geolocation-in-empathy-now-real/en/"><strong>Empathy</strong></a><a href="http://blog.pierlux.com/2009/06/15/geolocation-in-empathy-now-real/en/"> sharing location</a> information with instant messaging buddies, and <strong>Getting Things GNOME</strong> TODO manager being able to <a href="http://live.gnome.org/gtg/soc/geolocalized_tasks">tag action items with location</a>. <strong>Zeitgeist</strong> is intending to start tagging and searching activity <a href="https://code.launchpad.net/~mortenmjelva/zeitgeist/geoclue-extension">history with location</a>, and <a href="http://patchpanel.blogspot.com/2010/05/ubuntu-1004-my-two-cents.html"><strong>Gwibber</strong></a> also wants to include location sharing to interface with social web services like Brightkite, Qaiku and Google Latitude. Another reasonably low-hanging fruit would be to make the <strong>Ubuntu panel clock</strong> automatically change time zones as you travel.</p>
<p><strong>Midgard in Ubuntu</strong> is a bit trickier question. A lot of Ubuntu has now been developed to <a href="http://www.youtube.com/watch?v=2R1qf5_6Zt4">utilize the <strong>CouchDB</strong> document database</a>, which provides quite <a href="http://bergie.iki.fi/blog/what_is_a_content_repository/">similar storage services as Midgard</a> does. <a href="http://couchdb.apache.org/">CouchDB's</a> cool map/reduce algorithms and replication capabilities have enabled Ubuntu developers to <a href="http://arstechnica.com/open-source/reviews/2009/11/good-karma-ars-reviews-ubuntu-910.ars/6">quickly integrate a content repository</a> into many applications and to provide a cloud storage and synchronization service to users of the operating system.</p>
<p>But at the same time <a href="http://arstechnica.com/open-source/reviews/2010/05/lucid-dream-ars-reviews-ubuntu-1004.ars/9">CouchDB introduces some problems</a>:</p>
<blockquote>CouchDB can't seem to handle the load of Gwibber's messages, leading to excessive CPU consumption and poor performance in certain cases. For example, the overhead of computing the views causes lag when the user switches streams after Gwibber refreshes. The cost of pulling the account configuration data out of the database can also sometimes cause a noticeable lag that lasts up to four or five seconds when opening Gwibber's account manager.</blockquote>
<p>CouchDB has been designed with web servers in mind, and in many situations having a constantly-running Erlang process and having to do HTTP roundtrips to access data are undesirable on more constrained computers. We <a href="http://protoblogr.net/blog/view/finally_got_them_working.html">ported CouchDB to Maemo</a> a few years ago and the performance was terrible. I'd imagine the same issues on netbooks and other small hardware that <a href="http://www.markshuttleworth.com/archives/383">Ubuntu's Light initiative</a> targets.</p>
<p>On such environments <a href="http://twitter.com/sil/status/13782972356">Midgard might be a better option</a>. <a href="http://bergie.iki.fi/blog/ratatoskr_is_out-midgard2_content_repository_goes_lts/">Midgard's recent LTS release</a> uses regular <a href="http://www.gnome-db.org/News">relational databases</a> for fast performance and low footprint, utilizes important pieces of free desktop architecture like D-Bus signalling and <a href="http://live.gnome.org/GObjectIntrospection">GObject Introspection</a>, and has been proven to work well even on low-end devices like the Nokia N900. And yet it provides <a href="http://bergie.iki.fi/blog/why_you_should_use_a_content_repository_for_your_application/">full content repository APIs</a> comparable to CouchDB, and can even handle <a href="http://bergie.iki.fi/blog/couchdb_and_midgard_talking_with_each_other/">replication with Couch</a>. One way to make Midgard possible, then, would be to provide Python <a href="http://www.freedesktop.org/wiki/Specifications/desktopcouch">DesktopCouch APIs</a> to it.</p>
<p>Another interesting technology discussed much in UDS was <a href="http://www.puppetlabs.com/"><strong>Puppet</strong></a>, the Â systems administration tool. It enables developers to describe their setups in a <a href="http://docs.puppetlabs.com/guides/language_tutorial.html">object-oriented declarative language</a>, and then just let Puppet to <em>make it so</em>. I attended two Puppet sessions, and picked up a Kindle edition of <a href="http://www.amazon.com/Pulling-Strings-Puppet-Configuration-Management/dp/1590599780">the Puppet book</a> which I read on the train ride <a href="http://www.qaiku.com/channels/show/maemork/view/00ddfcd65e1411dfacfeebea881863c763c7/">to the Netherlands</a>. As my company manages lots of Midgard web servers for our customers, automating system setup and maintenance on top of Puppet and <a href="http://bergie.iki.fi/blog/nemein_is_going_to_ubuntu_server/">Ubuntu Server</a> might save us lots of time and effort.</p>
<p>All in all, quite an enlightening <a href="http://www.qaiku.com/channels/show/ubuntu/view/adaba27e5c2f11dfb0df111cdab35b375b37/">two days in the event</a>. If things work out, I hope I'll be able to spend more time in the UDS targeting the N-series of Ubuntu next fall.</p>
